#!/usr/bin/ruby

# require a document class from rexml
require "rexml/document"
begin

  # read XML file
  doc = REXML::Document::new File.new(ARGV[0])

  # search adress node
  doc.elements.each("//host/address[@addrtype='ipv4']") do |addr|
    puts addr.attributes["addr"]
  end

rescue Exception => e
  puts e
end
